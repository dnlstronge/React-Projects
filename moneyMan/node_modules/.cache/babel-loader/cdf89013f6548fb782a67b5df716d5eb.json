{"ast":null,"code":"import _regeneratorRuntime from\"/home/dnlstronge/ReactP/moneyMan/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/dnlstronge/ReactP/moneyMan/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/dnlstronge/ReactP/moneyMan/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useState,useEffect}from\"react\";import{projectAuth}from'../firebase/config';import{useAuthContext}from\"./useAuthContext\";export var useLogout=function useLogout(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isCancelled=_useState2[0],setIsCancelled=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),error=_useState4[0],setError=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),isPending=_useState6[0],setIsPending=_useState6[1];var _useAuthContext=useAuthContext(),dispatch=_useAuthContext.dispatch;var logout=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setError(null);setIsPending(true);// this will sign user out:\n_context.prev=2;_context.next=5;return projectAuth.signOut();case 5:dispatch({type:'LOGOUT'});// update state:\nif(!isCancelled){setIsPending(false);setError(null);}_context.next=12;break;case 9:_context.prev=9;_context.t0=_context[\"catch\"](2);if(!isCancelled){console.log(_context.t0.message);setError(_context.t0.message);setIsPending(false);}case 12:case\"end\":return _context.stop();}}},_callee,null,[[2,9]]);}));return function logout(){return _ref.apply(this,arguments);};}();useEffect(function(){return function(){setIsCancelled(true);};},[]);return{logout:logout,error:error,isPending:isPending};};","map":{"version":3,"names":["useState","useEffect","projectAuth","useAuthContext","useLogout","isCancelled","setIsCancelled","error","setError","isPending","setIsPending","dispatch","logout","signOut","type","console","log","message"],"sources":["/home/dnlstronge/ReactP/moneyMan/src/hooks/useLogout.js"],"sourcesContent":["import { useState, useEffect } from \"react\"\nimport { projectAuth } from '../firebase/config'\nimport { useAuthContext } from \"./useAuthContext\"\n\n\n export const useLogout = () => {\n    const [isCancelled, setIsCancelled] = useState(false)\n    const [error, setError] = useState(null)\n    const [isPending, setIsPending] = useState(false)\n    const { dispatch } = useAuthContext()\n\n    const logout = async() => {\n        setError(null)   \n        setIsPending(true)\n        \n        // this will sign user out:\n        try {\n            await projectAuth.signOut()\n\n            dispatch({type: 'LOGOUT' })\n// update state:\n\n            if (!isCancelled) {\n            setIsPending(false)\n            setError(null)\n            }\n        }\n        //catch error\n        catch(err) {\n            if (!isCancelled) {\n            console.log(err.message)\n            setError(err.message)\n            setIsPending(false)\n            }}\n    }\n    useEffect(() => {\n        return() => {\n            setIsCancelled(true)\n        }\n    }, [])\n\n\n    return { logout, error, isPending } \n}"],"mappings":"kcAAA,OAASA,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAC3C,OAASC,WAAW,KAAQ,oBAAoB,CAChD,OAASC,cAAc,KAAQ,kBAAkB,CAGhD,MAAO,IAAMC,UAAS,CAAG,QAAZA,UAAS,EAAS,CAC5B,cAAsCJ,QAAQ,CAAC,KAAK,CAAC,wCAA9CK,WAAW,eAAEC,cAAc,eAClC,eAA0BN,QAAQ,CAAC,IAAI,CAAC,yCAAjCO,KAAK,eAAEC,QAAQ,eACtB,eAAkCR,QAAQ,CAAC,KAAK,CAAC,yCAA1CS,SAAS,eAAEC,YAAY,eAC9B,oBAAqBP,cAAc,EAAE,CAA7BQ,QAAQ,iBAARA,QAAQ,CAEhB,GAAMC,OAAM,0FAAG,mIACXJ,QAAQ,CAAC,IAAI,CAAC,CACdE,YAAY,CAAC,IAAI,CAAC,CAElB;AAAA,sCAEUR,YAAW,CAACW,OAAO,EAAE,QAE3BF,QAAQ,CAAC,CAACG,IAAI,CAAE,QAAS,CAAC,CAAC,CACvC;AAEY,GAAI,CAACT,WAAW,CAAE,CAClBK,YAAY,CAAC,KAAK,CAAC,CACnBF,QAAQ,CAAC,IAAI,CAAC,CACd,CAAC,+EAID,GAAI,CAACH,WAAW,CAAE,CAClBU,OAAO,CAACC,GAAG,CAAC,YAAIC,OAAO,CAAC,CACxBT,QAAQ,CAAC,YAAIS,OAAO,CAAC,CACrBP,YAAY,CAAC,KAAK,CAAC,CACnB,CAAC,oEACR,kBAvBKE,OAAM,0CAuBX,CACDX,SAAS,CAAC,UAAM,CACZ,MAAM,WAAM,CACRK,cAAc,CAAC,IAAI,CAAC,CACxB,CAAC,CACL,CAAC,CAAE,EAAE,CAAC,CAGN,MAAO,CAAEM,MAAM,CAANA,MAAM,CAAEL,KAAK,CAALA,KAAK,CAAEE,SAAS,CAATA,SAAU,CAAC,CACvC,CAAC"},"metadata":{},"sourceType":"module"}
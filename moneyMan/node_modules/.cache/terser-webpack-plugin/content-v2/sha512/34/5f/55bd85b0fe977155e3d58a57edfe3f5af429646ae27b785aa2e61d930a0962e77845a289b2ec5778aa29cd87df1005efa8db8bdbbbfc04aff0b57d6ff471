{"code":"(this[\"webpackJsonpmy-money\"]=this[\"webpackJsonpmy-money\"]||[]).push([[0],{17:function(e,t,n){e.exports={container:\"Home_container__3bftD\",content:\"Home_content__18qU0\",sidebar:\"Home_sidebar__21xz5\",transactions:\"Home_transactions__3_tqr\",name:\"Home_name__4a_Tj\",amount:\"Home_amount__1MW_9\"}},29:function(e,t,n){e.exports={navbar:\"Navbar_navbar__31-FB\",title:\"Navbar_title__2CGsW\"}},34:function(e,t,n){e.exports={\"login-form\":\"Login_login-form__1NBYb\"}},35:function(e,t,n){e.exports={\"signup-form\":\"Signup_signup-form__3B7tC\"}},42:function(e,t,n){},52:function(e,t,n){\"use strict\";n.r(t);var c=n(2),a=n.n(c),r=n(33),s=n.n(r),u=(n(42),n(22)),i=n(16),o=n(5),l=n(9),j=n(23);n(53),n(44);j.a.initializeApp({apiKey:\"AIzaSyBR-cCBZg6MCgXyg1o2tTdTgBgAUIsIpQk\",authDomain:\"moneyman-99322.firebaseapp.com\",projectId:\"moneyman-99322\",storageBucket:\"moneyman-99322.appspot.com\",messagingSenderId:\"88932004255\",appId:\"1:88932004255:web:ebb8988b8761c610aecdaa\"});var b=j.a.firestore(),d=j.a.auth(),O=j.a.firestore.Timestamp,p=n(1),f=Object(c.createContext)(),h=function(e,t){switch(t.type){case\"LOGIN\":return Object(l.a)(Object(l.a)({},e),{},{user:t.payload});case\"LOGOUT\":return Object(l.a)(Object(l.a)({},e),{},{user:null});case\"AUTH_IS_READY\":return Object(l.a)(Object(l.a)({},e),{},{user:t.payload,authIsReady:!0});default:return e}},x=function(e){var t=e.children,n=Object(c.useReducer)(h,{user:null,authIsReady:!1}),a=Object(o.a)(n,2),r=a[0],s=a[1];return console.log(\"AuthContext state:\",r),Object(c.useEffect)((function(){var e=d.onAuthStateChanged((function(t){s({type:\"AUTH_IS_READY\",payload:t}),e()}))}),[]),Object(p.jsx)(f.Provider,{value:Object(l.a)(Object(l.a)({},r),{},{dispatch:s}),children:t})},m=function(){var e=Object(c.useContext)(f);if(!e)throw Error(\"useAuthContext must be inside AuthContext provider\");return e},g=n(17),v=n.n(g),y=n(31),_=n(10),S=n.n(_),E=n(15),N={document:null,isPending:!1,error:null,success:null},D=function(e,t){switch(t.type){case\"IS_PENDING\":return{isPending:!0,document:null,success:!1,error:null};case\"ADDED_DOC\":return{isPending:!1,document:t.payload,success:!0,error:null};case\"DELETED_DOCUMENT\":return{isPending:!1,document:null,success:!0,error:null};case\"ERROR\":return{isPending:!1,document:null,success:!1,error:t.payload};default:return e}},w=function(e){var t=Object(c.useReducer)(D,N),n=Object(o.a)(t,2),a=n[0],r=n[1],s=Object(c.useState)(!1),u=Object(o.a)(s,2),i=u[0],j=u[1],d=b.collection(e),p=function(e){i||r(e)},f=function(){var e=Object(E.a)(S.a.mark((function e(t){var n,c;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r({type:\"IS_PENDING\"}),e.prev=1,n=O.fromDate(new Date),e.next=5,d.add(Object(l.a)(Object(l.a)({},t),{},{createdAt:n}));case 5:c=e.sent,p({type:\"ADDED_DOC\",payload:c}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),p({type:\"ERROR\",payload:e.t0.message});case 12:case\"end\":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),h=function(){var e=Object(E.a)(S.a.mark((function e(t){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r({type:\"IS_PENDING\"}),e.prev=1,e.next=4,d.doc(t).delete();case 4:p({type:\"DELETED_DOCUMENT\"}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),p({type:\"ERROR\",payload:\"Could not delete\"});case 10:case\"end\":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){return function(){j(!0)}}),[]),{addDocument:f,deleteDocument:h,response:a}};function C(e){var t=e.transactions,n=w(\"transactions\"),c=n.deleteDocument,a=n.response;return console.log(a),Object(p.jsx)(\"ul\",{className:v.a.transactions,children:t.map((function(e){return Object(p.jsxs)(\"li\",{children:[Object(p.jsx)(\"p\",{className:v.a.name,children:e.name}),Object(p.jsxs)(\"p\",{className:v.a.amount,children:[\"\\xa3\",e.amount]}),Object(p.jsx)(\"button\",{onClick:function(){return c(e.id)},children:\"x\"})]},e.id)}))})}function I(e){var t=e.uid,n=Object(c.useState)(\"\"),a=Object(o.a)(n,2),r=a[0],s=a[1],u=Object(c.useState)(\"\"),i=Object(o.a)(u,2),l=i[0],j=i[1],b=w(\"transactions\"),d=b.addDocument,O=b.response;return Object(c.useEffect)((function(){O.success&&(s(\"\"),j(\"\"))}),[O.success]),Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(\"h3\",{children:\"Add a transaction\"}),Object(p.jsxs)(\"form\",{onSubmit:function(e){e.preventDefault(),d({uid:t,name:r,amount:l})},children:[Object(p.jsxs)(\"label\",{children:[Object(p.jsx)(\"span\",{children:\"Transaction name:\"}),Object(p.jsx)(\"input\",{type:\"text\",required:!0,onChange:function(e){return s(e.target.value)},value:r})]}),Object(p.jsxs)(\"label\",{children:[Object(p.jsx)(\"span\",{children:\"Amount (\\xa3):\"}),Object(p.jsx)(\"input\",{type:\"text\",required:!0,onChange:function(e){return j(e.target.value)},value:l})]}),Object(p.jsx)(\"button\",{children:\"Add transaction\"})]})]})}function A(){var e=m().user,t=function(e,t,n){var a=Object(c.useState)(null),r=Object(o.a)(a,2),s=r[0],u=r[1],i=Object(c.useState)(null),j=Object(o.a)(i,2),d=j[0],O=j[1],p=Object(c.useRef)(t).current,f=Object(c.useRef)(n).current;return Object(c.useEffect)((function(){var t,n,c=b.collection(e);p&&(c=(t=c).where.apply(t,Object(y.a)(p))),f&&(c=(n=c).orderBy.apply(n,Object(y.a)(f)));var a=c.onSnapshot((function(e){var t=[];e.docs.forEach((function(e){t.push(Object(l.a)(Object(l.a)({},e.data()),{},{id:e.id}))})),u(t),O(null)}),(function(e){console.log(e),O(\"Could not fetch data\")}));return function(){return a()}}),[e,p,f]),{documents:s,error:d}}(\"transactions\",[\"uid\",\"==\",e.uid],[\"createdAt\",\"desc\"]),n=t.documents,a=t.error;return Object(p.jsxs)(\"div\",{className:v.a.container,children:[Object(p.jsxs)(\"div\",{className:v.a.content,children:[a&&Object(p.jsx)(\"p\",{children:a}),n&&Object(p.jsx)(C,{transactions:n})]}),Object(p.jsx)(\"div\",{className:v.a.sidebar,children:Object(p.jsx)(I,{uid:e.uid})})]})}var P=n(34),R=n.n(P);function k(){var e=Object(c.useState)(\"\"),t=Object(o.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(\"\"),s=Object(o.a)(r,2),u=s[0],i=s[1],l=function(e,t){var n=Object(c.useState)(!1),a=Object(o.a)(n,2),r=a[0],s=a[1],u=Object(c.useState)(null),i=Object(o.a)(u,2),l=i[0],j=i[1],b=Object(c.useState)(!1),O=Object(o.a)(b,2),p=O[0],f=O[1],h=m().dispatch,x=function(){var e=Object(E.a)(S.a.mark((function e(t,n){var c;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j(null),f(!0),e.prev=2,e.next=5,d.signInWithEmailAndPassword(t,n);case 5:c=e.sent,f(!1),h({type:\"LOGIN\",payload:c.user}),r||(f(!1),j(null)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),r||(console.log(e.t0.message),j(e.t0.message),f(!1));case 14:case\"end\":return e.stop()}}),e,null,[[2,11]])})));return function(t,n){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){return function(){return s(!0)}}),[]),{login:x,error:l,isPending:p}}(),j=l.login,b=l.error,O=l.isPending;return Object(p.jsxs)(\"form\",{onSubmit:function(e){e.preventDefault(),j(n,u)},className:R.a[\"login-form\"],children:[Object(p.jsx)(\"h2\",{children:\"Login\"}),Object(p.jsxs)(\"label\",{children:[Object(p.jsx)(\"span\",{children:\"Email:\"}),Object(p.jsx)(\"input\",{type:\"email\",onChange:function(e){return a(e.target.value)},value:n})]}),Object(p.jsxs)(\"label\",{children:[Object(p.jsx)(\"span\",{children:\"Password:\"}),Object(p.jsx)(\"input\",{type:\"password\",onChange:function(e){return i(e.target.value)},value:u})]}),!O&&Object(p.jsx)(\"button\",{className:\"btn\",children:\"Login\"}),O&&Object(p.jsx)(\"button\",{className:\"btn\",disabled:!0,children:\"Loading...\"}),b&&Object(p.jsx)(\"p\",{children:b})]})}var L=n(35),T=n.n(L);function B(){var e=Object(c.useState)(\"\"),t=Object(o.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(\"\"),s=Object(o.a)(r,2),u=s[0],i=s[1],l=Object(c.useState)(\"\"),j=Object(o.a)(l,2),b=j[0],O=j[1],f=function(){var e=Object(c.useState)(!1),t=Object(o.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(null),s=Object(o.a)(r,2),u=s[0],i=s[1],l=Object(c.useState)(!1),j=Object(o.a)(l,2),b=j[0],O=j[1],p=m().dispatch,f=function(){var e=Object(E.a)(S.a.mark((function e(t,c,a){var r;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i(null),O(!0),e.prev=2,e.next=5,d.createUserWithEmailAndPassword(t,c);case 5:if(r=e.sent){e.next=8;break}throw new Error(\"Could not complete signup\");case 8:return e.next=10,r.user.updateProfile({displayName:a});case 10:p({type:\"LOGIN\",payload:r.user}),n||(O(!1),i(null)),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(2),n||(console.log(e.t0.message),i(e.t0.message),O(!1));case 17:case\"end\":return e.stop()}}),e,null,[[2,14]])})));return function(t,n,c){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){return function(){a(!0)}}),[]),{error:u,isPending:b,signup:f}}(),h=f.signup,x=f.isPending,g=f.error;return Object(p.jsxs)(\"form\",{onSubmit:function(e){e.preventDefault(),h(u,b,n)},className:T.a[\"signup-form\"],children:[Object(p.jsxs)(\"label\",{children:[Object(p.jsx)(\"h2\",{children:\"Signup\"}),Object(p.jsx)(\"br\",{}),Object(p.jsx)(\"span\",{children:\"Email:\"}),Object(p.jsx)(\"input\",{type:\"email\",onChange:function(e){return i(e.target.value)},value:u})]}),Object(p.jsxs)(\"label\",{children:[Object(p.jsx)(\"span\",{children:\"Password\"}),Object(p.jsx)(\"input\",{type:\"password\",onChange:function(e){return O(e.target.value)},value:b})]}),Object(p.jsxs)(\"label\",{children:[Object(p.jsx)(\"span\",{children:\" Display name: \"}),Object(p.jsx)(\"input\",{type:\"text\",onChange:function(e){return a(e.target.value)},value:n})]}),!x&&Object(p.jsx)(\"button\",{className:\"btn\",children:\"Submit\"}),x&&Object(p.jsx)(\"button\",{className:\"btn\",disabled:!0,children:\"Loading..\"}),g&&Object(p.jsx)(\"p\",{children:g})]})}var G=n(29),H=n.n(G);function U(){var e=function(){var e=Object(c.useState)(!1),t=Object(o.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(null),s=Object(o.a)(r,2),u=s[0],i=s[1],l=Object(c.useState)(!1),j=Object(o.a)(l,2),b=j[0],O=j[1],p=m().dispatch,f=function(){var e=Object(E.a)(S.a.mark((function e(){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i(null),O(!0),e.prev=2,e.next=5,d.signOut();case 5:p({type:\"LOGOUT\"}),n||(O(!1),i(null)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),n||(console.log(e.t0.message),i(e.t0.message),O(!1));case 12:case\"end\":return e.stop()}}),e,null,[[2,9]])})));return function(){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){return function(){a(!0)}}),[]),{logout:f,error:u,isPending:b}}(),t=e.logout,n=m().user;return Object(p.jsx)(\"nav\",{className:H.a.navbar,children:Object(p.jsxs)(\"ul\",{children:[Object(p.jsx)(\"li\",{className:H.a.title,children:\"moneyMan\"}),!n&&Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(\"li\",{children:Object(p.jsx)(u.b,{to:\"/login\",children:\"Login\"})}),Object(p.jsx)(\"li\",{children:Object(p.jsx)(u.b,{to:\"/signup\",children:\"Signup\"})})]}),n&&Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)(\"li\",{children:[\"Hello, \",n.displayName]}),Object(p.jsx)(\"li\",{children:Object(p.jsx)(\"button\",{className:\"btn\",onClick:t,children:\"Logout\"})})]})]})})}var M=function(){var e=m(),t=e.authIsReady,n=e.user;return Object(p.jsx)(\"div\",{className:\"App\",children:t&&Object(p.jsxs)(u.a,{children:[Object(p.jsx)(U,{}),Object(p.jsxs)(i.d,{children:[Object(p.jsxs)(i.b,{exact:!0,path:\"/\",children:[!n&&Object(p.jsx)(i.a,{to:\"/login\"}),n&&Object(p.jsx)(A,{})]}),Object(p.jsxs)(i.b,{path:\"/login\",children:[n&&Object(p.jsx)(i.a,{to:\"/\"}),!n&&Object(p.jsx)(k,{})]}),Object(p.jsxs)(i.b,{path:\"/signup\",children:[n&&Object(p.jsx)(i.a,{to:\"/\"}),!n&&Object(p.jsx)(B,{})]})]})]})})};s.a.render(Object(p.jsx)(a.a.StrictMode,{children:Object(p.jsx)(x,{children:Object(p.jsx)(M,{})})}),document.getElementById(\"root\"))}},[[52,1,2]]]);","name":"static/js/main.ec9b02e8.chunk.js","map":{"version":3,"names":["this","push","module","exports","__webpack_require__","container","content","sidebar","transactions","name","amount","navbar","title","__webpack_exports__","r","react","react_default","n","react_dom","react_dom_default","react_router_dom","react_router","slicedToArray","objectSpread2","index_esm","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","projectFirestore","firestore","projectAuth","auth","timestamp","Timestamp","jsx_runtime","AuthContext","Object","AuthContext_authReducer","state","action","type","user","payload","authIsReady","AuthContext_AuthContextProvider","_ref","children","_useReducer","_useReducer2","dispatch","console","log","unsub","onAuthStateChanged","Provider","value","useAuthContext_useAuthContext","context","Error","Home_module","Home_module_default","toConsumableArray","regenerator","regenerator_default","asyncToGenerator","initialState","document","isPending","error","success","firestoreReducer","useFirestore_useFirestore","collection","response","_useState","_useState2","isCancelled","setIsCancelled","ref","dispatchIfNotCancelled","addDocument","a","mark","_callee","doc","createdAt","addedDocument","wrap","_context","prev","next","fromDate","Date","add","sent","t0","message","stop","_x","apply","arguments","deleteDocument","_ref2","_callee2","id","_context2","delete","_x2","TransactionList","_useFirestore","className","map","transaction","onClick","TransactionForm","uid","setName","_useState3","_useState4","setAmount","onSubmit","e","preventDefault","required","onChange","target","Home","_useCollection","_query","_orderBy","documents","setDocuments","setError","query","current","orderBy","where","unsubscribe","onSnapshot","snapshot","results","docs","forEach","data","useCollection_useCollection","Login_module","Login_module_default","Login","email","setEmail","password","setPassword","_useLogin","_useState5","_useState6","setIsPending","login","res","signInWithEmailAndPassword","useLogin_useLogin","disabled","Signup_module","Signup_module_default","Signup","displayName","setDisplayName","_useSignup","signup","createUserWithEmailAndPassword","updateProfile","_x3","useSignup_useSignup","Navbar_module","Navbar_module_default","Navbar","_useLogout","logout","signOut","useLogout_useLogout","to","src_App","_useAuthContext","exact","path","render","StrictMode","getElementById"],"sources":["static/js/main.ec9b02e8.chunk.js"],"mappings":"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"},"input":"(this[\"webpackJsonpmy-money\"] = this[\"webpackJsonpmy-money\"] || []).push([[0],{\n\n/***/ 17:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Home_container__3bftD\",\"content\":\"Home_content__18qU0\",\"sidebar\":\"Home_sidebar__21xz5\",\"transactions\":\"Home_transactions__3_tqr\",\"name\":\"Home_name__4a_Tj\",\"amount\":\"Home_amount__1MW_9\"};\n\n/***/ }),\n\n/***/ 29:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\nmodule.exports = {\"navbar\":\"Navbar_navbar__31-FB\",\"title\":\"Navbar_title__2CGsW\"};\n\n/***/ }),\n\n/***/ 34:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\nmodule.exports = {\"login-form\":\"Login_login-form__1NBYb\"};\n\n/***/ }),\n\n/***/ 35:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\nmodule.exports = {\"signup-form\":\"Signup_signup-form__3B7tC\"};\n\n/***/ }),\n\n/***/ 42:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 52:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(2);\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ./node_modules/react-dom/index.js\nvar react_dom = __webpack_require__(33);\nvar react_dom_default = /*#__PURE__*/__webpack_require__.n(react_dom);\n\n// EXTERNAL MODULE: ./src/index.css\nvar src = __webpack_require__(42);\n\n// EXTERNAL MODULE: ./node_modules/react-router-dom/esm/react-router-dom.js\nvar react_router_dom = __webpack_require__(22);\n\n// EXTERNAL MODULE: ./node_modules/react-router/esm/react-router.js\nvar react_router = __webpack_require__(16);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 3 modules\nvar slicedToArray = __webpack_require__(5);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js + 1 modules\nvar objectSpread2 = __webpack_require__(9);\n\n// EXTERNAL MODULE: ./node_modules/firebase/app/dist/index.esm.js\nvar index_esm = __webpack_require__(23);\n\n// EXTERNAL MODULE: ./node_modules/firebase/firestore/dist/index.esm.js + 1 modules\nvar dist_index_esm = __webpack_require__(53);\n\n// EXTERNAL MODULE: ./node_modules/firebase/auth/dist/index.esm.js\nvar auth_dist_index_esm = __webpack_require__(44);\n\n// CONCATENATED MODULE: ./src/firebase/config.js\nvar firebaseConfig={apiKey:\"AIzaSyBR-cCBZg6MCgXyg1o2tTdTgBgAUIsIpQk\",authDomain:\"moneyman-99322.firebaseapp.com\",projectId:\"moneyman-99322\",storageBucket:\"moneyman-99322.appspot.com\",messagingSenderId:\"88932004255\",appId:\"1:88932004255:web:ebb8988b8761c610aecdaa\"};// initialise FB\nindex_esm[\"a\" /* default */].initializeApp(firebaseConfig);// initialize services\nvar projectFirestore=index_esm[\"a\" /* default */].firestore();var projectAuth=index_esm[\"a\" /* default */].auth();//timestamp\nvar timestamp=index_esm[\"a\" /* default */].firestore.Timestamp;\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(1);\n\n// CONCATENATED MODULE: ./src/context/AuthContext.js\nvar AuthContext=/*#__PURE__*/Object(react[\"createContext\"])();//dispatch function:\nvar AuthContext_authReducer=function authReducer(state,action){switch(action.type){case'LOGIN':return Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},state),{},{user:action.payload});case'LOGOUT':return Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},state),{},{user:null});case'AUTH_IS_READY':return Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},state),{},{user:action.payload,authIsReady:true});default:return state;}};var AuthContext_AuthContextProvider=function AuthContextProvider(_ref){var children=_ref.children;var _useReducer=Object(react[\"useReducer\"])(AuthContext_authReducer,{user:null,authIsReady:false}),_useReducer2=Object(slicedToArray[\"a\" /* default */])(_useReducer,2),state=_useReducer2[0],dispatch=_useReducer2[1];console.log('AuthContext state:',state);Object(react[\"useEffect\"])(function(){var unsub=projectAuth.onAuthStateChanged(function(user){dispatch({type:'AUTH_IS_READY',payload:user});unsub();});},[]);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(AuthContext.Provider,{value:Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},state),{},{dispatch:dispatch}),children:children});};\n// CONCATENATED MODULE: ./src/hooks/useAuthContext.js\nvar useAuthContext_useAuthContext=function useAuthContext(){var context=Object(react[\"useContext\"])(AuthContext);// object containing ...state + dispatch\nif(!context){throw Error('useAuthContext must be inside AuthContext provider');}return context;};\n// EXTERNAL MODULE: ./src/pages/home/Home.module.css\nvar Home_module = __webpack_require__(17);\nvar Home_module_default = /*#__PURE__*/__webpack_require__.n(Home_module);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js + 3 modules\nvar toConsumableArray = __webpack_require__(31);\n\n// CONCATENATED MODULE: ./src/hooks/useCollection.js\nvar useCollection_useCollection=function useCollection(collection,_query,_orderBy){var _useState=Object(react[\"useState\"])(null),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),documents=_useState2[0],setDocuments=_useState2[1];var _useState3=Object(react[\"useState\"])(null),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),error=_useState4[0],setError=_useState4[1];// fixes issue cause by using an array inside dep array (inf loop)\n// \"_query\" is \"different\" and causes inf loop if used directly in dependency array\nvar query=Object(react[\"useRef\"])(_query).current;var orderBy=Object(react[\"useRef\"])(_orderBy).current;Object(react[\"useEffect\"])(function(){var ref=projectFirestore.collection(collection);// add where\nif(query){var _ref;ref=(_ref=ref).where.apply(_ref,Object(toConsumableArray[\"a\" /* default */])(query));}if(orderBy){var _ref2;ref=(_ref2=ref).orderBy.apply(_ref2,Object(toConsumableArray[\"a\" /* default */])(orderBy));}var unsubscribe=ref.onSnapshot(function(snapshot){var results=[];snapshot.docs.forEach(function(doc){results.push(Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},doc.data()),{},{id:doc.id}));});// updates state\nsetDocuments(results);setError(null);},function(error){console.log(error);setError('Could not fetch data');});// cleanup/unsub\nreturn function(){return unsubscribe();};},[collection,query,orderBy]);return{documents:documents,error:error};};// Houston we have Problem: would this not cause infinite cycle of rerender\n// due to an array reference type? i.e JS will see query as different and because\n// there is a diff to something in the dep array useEffect would fire again and again......\n// useRef to get arround this? rename query and wrap using useref, store that in var called query\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator/index.js\nvar regenerator = __webpack_require__(10);\nvar regenerator_default = /*#__PURE__*/__webpack_require__.n(regenerator);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\nvar asyncToGenerator = __webpack_require__(15);\n\n// CONCATENATED MODULE: ./src/hooks/useFirestore.js\n//NEEDS TO:\n//add new docs to firestore collection\n//remove docs from firestore collection\nvar initialState={document:null,isPending:false,error:null,success:null};var firestoreReducer=function firestoreReducer(state,action){switch(action.type){//add cases to update state\ncase'IS_PENDING':return{isPending:true,document:null,success:false,error:null};case'ADDED_DOC':return{isPending:false,document:action.payload,success:true,error:null};case'DELETED_DOCUMENT':return{isPending:false,document:null,success:true,error:null};case'ERROR':return{isPending:false,document:null,success:false,error:action.payload};default:return state;}};var useFirestore_useFirestore=function useFirestore(collection){var _useReducer=Object(react[\"useReducer\"])(firestoreReducer,initialState),_useReducer2=Object(slicedToArray[\"a\" /* default */])(_useReducer,2),response=_useReducer2[0],dispatch=_useReducer2[1];// response = state\nvar _useState=Object(react[\"useState\"])(false),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),isCancelled=_useState2[0],setIsCancelled=_useState2[1];// for cleanup function on unmount\n//ref: collection - to be used for both adding and deleting\nvar ref=projectFirestore.collection(collection);// to dispatch if isCancelled is false: \nvar dispatchIfNotCancelled=function dispatchIfNotCancelled(action){if(!isCancelled){dispatch(action);}};// add doc:\nvar addDocument=/*#__PURE__*/function(){var _ref=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(doc){var createdAt,addedDocument;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:dispatch({type:'IS_PENDING'});// no data = no payload req\n_context.prev=1;createdAt=timestamp.fromDate(new Date());_context.next=5;return ref.add(Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},doc),{},{createdAt:createdAt}));case 5:addedDocument=_context.sent;dispatchIfNotCancelled({type:'ADDED_DOC',payload:addedDocument});_context.next=12;break;case 9:_context.prev=9;_context.t0=_context[\"catch\"](1);dispatchIfNotCancelled({type:'ERROR',payload:_context.t0.message});case 12:case\"end\":return _context.stop();}}},_callee,null,[[1,9]]);}));return function addDocument(_x){return _ref.apply(this,arguments);};}();// delete doc:\nvar deleteDocument=/*#__PURE__*/function(){var _ref2=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee2(id){return regenerator_default.a.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:dispatch({type:\"IS_PENDING\"});_context2.prev=1;_context2.next=4;return ref.doc(id).delete();case 4:dispatchIfNotCancelled({type:'DELETED_DOCUMENT'});_context2.next=10;break;case 7:_context2.prev=7;_context2.t0=_context2[\"catch\"](1);dispatchIfNotCancelled({type:'ERROR',payload:'Could not delete'});case 10:case\"end\":return _context2.stop();}}},_callee2,null,[[1,7]]);}));return function deleteDocument(_x2){return _ref2.apply(this,arguments);};}();// cleanup function\nObject(react[\"useEffect\"])(function(){return function(){setIsCancelled(true);};},[]);// only runs on mount due to empty dep array\nreturn{addDocument:addDocument,deleteDocument:deleteDocument,response:response};};\n// CONCATENATED MODULE: ./src/pages/home/TransactionList.js\n//styles\nfunction TransactionList(_ref){var transactions=_ref.transactions;var _useFirestore=useFirestore_useFirestore('transactions'),deleteDocument=_useFirestore.deleteDocument,response=_useFirestore.response;console.log(response);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"ul\",{className:Home_module_default.a.transactions,children:transactions.map(function(transaction){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"li\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{className:Home_module_default.a.name,children:transaction.name}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"p\",{className:Home_module_default.a.amount,children:[\"\\xA3\",transaction.amount]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{onClick:function onClick(){return deleteDocument(transaction.id);},children:\"x\"})]},transaction.id);})});}\n// CONCATENATED MODULE: ./src/pages/home/TransactionForm.js\nfunction TransactionForm(_ref){var uid=_ref.uid;var _useState=Object(react[\"useState\"])(''),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),name=_useState2[0],setName=_useState2[1];var _useState3=Object(react[\"useState\"])(''),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),amount=_useState4[0],setAmount=_useState4[1];var _useFirestore=useFirestore_useFirestore('transactions'),addDocument=_useFirestore.addDocument,response=_useFirestore.response;// firestore will make this\nvar handleSubmit=function handleSubmit(e){e.preventDefault();addDocument({uid:uid,name:name,amount:amount});};//  Clears Form on submit\nObject(react[\"useEffect\"])(function(){if(response.success){setName('');setAmount('');}},[response.success]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h3\",{children:\"Add a transaction\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"label\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{children:\"Transaction name:\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"text\",required:true,onChange:function onChange(e){return setName(e.target.value);},value:name})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"label\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{children:\"Amount (\\xA3):\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"text\",required:true,onChange:function onChange(e){return setAmount(e.target.value);},value:amount})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{children:\"Add transaction\"})]})]});}\n// CONCATENATED MODULE: ./src/pages/home/Home.js\n// styles\n// hooks \n//comps\nfunction Home(){var _useAuthContext=useAuthContext_useAuthContext(),user=_useAuthContext.user;var _useCollection=useCollection_useCollection('transactions',['uid','==',user.uid],['createdAt','desc']),documents=_useCollection.documents,error=_useCollection.error;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:Home_module_default.a.container,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:Home_module_default.a.content,children:[error&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{children:error}),documents&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(TransactionList,{transactions:documents})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:Home_module_default.a.sidebar,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(TransactionForm,{uid:user.uid})})]});}\n// CONCATENATED MODULE: ./src/hooks/useLogin.js\nvar useLogin_useLogin=function useLogin(email,password){var _useState=Object(react[\"useState\"])(false),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),isCancelled=_useState2[0],setIsCancelled=_useState2[1];var _useState3=Object(react[\"useState\"])(null),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),error=_useState4[0],setError=_useState4[1];var _useState5=Object(react[\"useState\"])(false),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),isPending=_useState6[0],setIsPending=_useState6[1];var _useAuthContext=useAuthContext_useAuthContext(),dispatch=_useAuthContext.dispatch;var login=/*#__PURE__*/function(){var _ref=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(email,password){var res;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setError(null);setIsPending(true);// this will sign user in:\n_context.prev=2;_context.next=5;return projectAuth.signInWithEmailAndPassword(email,password);case 5:res=_context.sent;setIsPending(false);dispatch({type:'LOGIN',payload:res.user});// update state:\nif(!isCancelled){setIsPending(false);setError(null);}_context.next=14;break;case 11:_context.prev=11;_context.t0=_context[\"catch\"](2);if(!isCancelled){console.log(_context.t0.message);setError(_context.t0.message);setIsPending(false);}case 14:case\"end\":return _context.stop();}}},_callee,null,[[2,11]]);}));return function login(_x,_x2){return _ref.apply(this,arguments);};}();Object(react[\"useEffect\"])(function(){return function(){return setIsCancelled(true);};},[]);return{login:login,error:error,isPending:isPending};};\n// EXTERNAL MODULE: ./src/pages/login/Login.module.css\nvar Login_module = __webpack_require__(34);\nvar Login_module_default = /*#__PURE__*/__webpack_require__.n(Login_module);\n\n// CONCATENATED MODULE: ./src/pages/login/Login.js\n//styles\nfunction Login(){var _useState=Object(react[\"useState\"])(''),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),email=_useState2[0],setEmail=_useState2[1];var _useState3=Object(react[\"useState\"])(''),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var _useLogin=useLogin_useLogin(),login=_useLogin.login,error=_useLogin.error,isPending=_useLogin.isPending;var handleSubmit=function handleSubmit(e){e.preventDefault();login(email,password);};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"form\",{onSubmit:handleSubmit,className:Login_module_default.a['login-form'],children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{children:\"Login\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"label\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{children:\"Email:\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"email\",onChange:function onChange(e){return setEmail(e.target.value);},value:email})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"label\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{children:\"Password:\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"password\",onChange:function onChange(e){return setPassword(e.target.value);},value:password})]}),!isPending&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"btn\",children:\"Login\"}),isPending&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"btn\",disabled:true,children:\"Loading...\"}),error&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{children:error})]});}\n// CONCATENATED MODULE: ./src/hooks/useSignup.js\nvar useSignup_useSignup=function useSignup(){var _useState=Object(react[\"useState\"])(false),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),isCancelled=_useState2[0],setIsCancelled=_useState2[1];var _useState3=Object(react[\"useState\"])(null),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),error=_useState4[0],setError=_useState4[1];var _useState5=Object(react[\"useState\"])(false),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),isPending=_useState6[0],setIsPending=_useState6[1];var _useAuthContext=useAuthContext_useAuthContext(),dispatch=_useAuthContext.dispatch;var signup=/*#__PURE__*/function(){var _ref=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(email,password,displayName){var res;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setError(null);setIsPending(true);_context.prev=2;_context.next=5;return projectAuth.createUserWithEmailAndPassword(email,password);case 5:res=_context.sent;if(res){_context.next=8;break;}throw new Error('Could not complete signup');case 8:_context.next=10;return res.user.updateProfile({displayName:displayName});case 10://dispatch login action:\ndispatch({type:'LOGIN',payload:res.user});if(!isCancelled){setIsPending(false);setError(null);}_context.next=17;break;case 14:_context.prev=14;_context.t0=_context[\"catch\"](2);if(!isCancelled){console.log(_context.t0.message);setError(_context.t0.message);setIsPending(false);}case 17:case\"end\":return _context.stop();}}},_callee,null,[[2,14]]);}));return function signup(_x,_x2,_x3){return _ref.apply(this,arguments);};}();Object(react[\"useEffect\"])(function(){return function(){setIsCancelled(true);};},[]);return{error:error,isPending:isPending,signup:signup};};\n// EXTERNAL MODULE: ./src/pages/signup/Signup.module.css\nvar Signup_module = __webpack_require__(35);\nvar Signup_module_default = /*#__PURE__*/__webpack_require__.n(Signup_module);\n\n// CONCATENATED MODULE: ./src/pages/signup/Signup.js\n// styles\nfunction Signup(){var _useState=Object(react[\"useState\"])(''),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),displayName=_useState2[0],setDisplayName=_useState2[1];var _useState3=Object(react[\"useState\"])(''),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),email=_useState4[0],setEmail=_useState4[1];var _useState5=Object(react[\"useState\"])(''),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),password=_useState6[0],setPassword=_useState6[1];//destructure state from hook: \nvar _useSignup=useSignup_useSignup(),signup=_useSignup.signup,isPending=_useSignup.isPending,error=_useSignup.error;var handleSubmit=function handleSubmit(e){e.preventDefault();signup(email,password,displayName);};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"form\",{onSubmit:handleSubmit,className:Signup_module_default.a['signup-form'],children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"label\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{children:\"Signup\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\",{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{children:\"Email:\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"email\",onChange:function onChange(e){return setEmail(e.target.value);},value:email})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"label\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{children:\"Password\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"password\",onChange:function onChange(e){return setPassword(e.target.value);},value:password})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"label\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{children:\" Display name: \"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"text\",onChange:function onChange(e){return setDisplayName(e.target.value);},value:displayName})]}),!isPending&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"btn\",children:\"Submit\"}),isPending&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"btn\",disabled:true,children:\"Loading..\"}),error&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{children:error})]});}\n// CONCATENATED MODULE: ./src/hooks/useLogout.js\nvar useLogout_useLogout=function useLogout(){var _useState=Object(react[\"useState\"])(false),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),isCancelled=_useState2[0],setIsCancelled=_useState2[1];var _useState3=Object(react[\"useState\"])(null),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),error=_useState4[0],setError=_useState4[1];var _useState5=Object(react[\"useState\"])(false),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),isPending=_useState6[0],setIsPending=_useState6[1];var _useAuthContext=useAuthContext_useAuthContext(),dispatch=_useAuthContext.dispatch;var logout=/*#__PURE__*/function(){var _ref=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(){return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setError(null);setIsPending(true);// this will sign user out:\n_context.prev=2;_context.next=5;return projectAuth.signOut();case 5:dispatch({type:'LOGOUT'});// update state:\nif(!isCancelled){setIsPending(false);setError(null);}_context.next=12;break;case 9:_context.prev=9;_context.t0=_context[\"catch\"](2);if(!isCancelled){console.log(_context.t0.message);setError(_context.t0.message);setIsPending(false);}case 12:case\"end\":return _context.stop();}}},_callee,null,[[2,9]]);}));return function logout(){return _ref.apply(this,arguments);};}();Object(react[\"useEffect\"])(function(){return function(){setIsCancelled(true);};},[]);return{logout:logout,error:error,isPending:isPending};};\n// EXTERNAL MODULE: ./src/components/Navbar.module.css\nvar Navbar_module = __webpack_require__(29);\nvar Navbar_module_default = /*#__PURE__*/__webpack_require__.n(Navbar_module);\n\n// CONCATENATED MODULE: ./src/components/Navbar.js\n//imports\n//style\nfunction Navbar(){var _useLogout=useLogout_useLogout(),logout=_useLogout.logout;var _useAuthContext=useAuthContext_useAuthContext(),user=_useAuthContext.user;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"nav\",{className:Navbar_module_default.a.navbar,children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"ul\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"li\",{className:Navbar_module_default.a.title,children:\"moneyMan\"}),!user&&/*#__PURE__*/ // hides when logged in\nObject(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"li\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"b\" /* Link */],{to:\"/login\",children:\"Login\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"li\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"b\" /* Link */],{to:\"/signup\",children:\"Signup\"})})]}),user&&/*#__PURE__*/ //hides when logged out\nObject(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"li\",{children:[\"Hello, \",user.displayName]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"li\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"btn\",onClick:logout,children:\"Logout\"})})]})]})});}\n// CONCATENATED MODULE: ./src/App.js\n//pages & comps\n// import './App.css'\nfunction App(){var _useAuthContext=useAuthContext_useAuthContext(),authIsReady=_useAuthContext.authIsReady,user=_useAuthContext.user;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"App\",children:authIsReady&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(react_router_dom[\"a\" /* BrowserRouter */],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Navbar,{}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(react_router[\"d\" /* Switch */],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(react_router[\"b\" /* Route */],{exact:true,path:\"/\",children:[!user&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"a\" /* Redirect */],{to:\"/login\"}),user&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Home,{})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(react_router[\"b\" /* Route */],{path:\"/login\",children:[user&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"a\" /* Redirect */],{to:\"/\"}),!user&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Login,{})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(react_router[\"b\" /* Route */],{path:\"/signup\",children:[user&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"a\" /* Redirect */],{to:\"/\"}),!user&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Signup,{})]})]})]})});}/* harmony default export */ var src_App = (App);\n// CONCATENATED MODULE: ./src/index.js\nreact_dom_default.a.render(/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_default.a.StrictMode,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(AuthContext_AuthContextProvider,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(src_App,{})})}),document.getElementById('root'));\n\n/***/ })\n\n},[[52,1,2]]]);","inputSourceMap":{"version":3,"sources":["/home/dnlstronge/ReactP/moneyMan/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-5-0!/home/dnlstronge/ReactP/moneyMan/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-5-1!/home/dnlstronge/ReactP/moneyMan/node_modules/postcss-loader/src/index.js??postcss!/home/dnlstronge/ReactP/moneyMan/src/pages/home/Home.module.css","/home/dnlstronge/ReactP/moneyMan/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-5-0!/home/dnlstronge/ReactP/moneyMan/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-5-1!/home/dnlstronge/ReactP/moneyMan/node_modules/postcss-loader/src/index.js??postcss!/home/dnlstronge/ReactP/moneyMan/src/components/Navbar.module.css","/home/dnlstronge/ReactP/moneyMan/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-5-0!/home/dnlstronge/ReactP/moneyMan/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-5-1!/home/dnlstronge/ReactP/moneyMan/node_modules/postcss-loader/src/index.js??postcss!/home/dnlstronge/ReactP/moneyMan/src/pages/login/Login.module.css","/home/dnlstronge/ReactP/moneyMan/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-5-0!/home/dnlstronge/ReactP/moneyMan/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-5-1!/home/dnlstronge/ReactP/moneyMan/node_modules/postcss-loader/src/index.js??postcss!/home/dnlstronge/ReactP/moneyMan/src/pages/signup/Signup.module.css","/home/dnlstronge/ReactP/moneyMan/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/home/dnlstronge/ReactP/moneyMan/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/home/dnlstronge/ReactP/moneyMan/node_modules/postcss-loader/src/index.js??postcss!/home/dnlstronge/ReactP/moneyMan/src/index.css","/home/dnlstronge/ReactP/moneyMan/src/firebase/config.js","/home/dnlstronge/ReactP/moneyMan/src/context/AuthContext.js","/home/dnlstronge/ReactP/moneyMan/src/hooks/useAuthContext.js","/home/dnlstronge/ReactP/moneyMan/src/hooks/useCollection.js","/home/dnlstronge/ReactP/moneyMan/src/hooks/useFirestore.js","/home/dnlstronge/ReactP/moneyMan/src/pages/home/TransactionList.js","/home/dnlstronge/ReactP/moneyMan/src/pages/home/TransactionForm.js","/home/dnlstronge/ReactP/moneyMan/src/pages/home/Home.js","/home/dnlstronge/ReactP/moneyMan/src/hooks/useLogin.js","/home/dnlstronge/ReactP/moneyMan/src/pages/login/Login.js","/home/dnlstronge/ReactP/moneyMan/src/hooks/useSignup.js","/home/dnlstronge/ReactP/moneyMan/src/pages/signup/Signup.js","/home/dnlstronge/ReactP/moneyMan/src/hooks/useLogout.js","/home/dnlstronge/ReactP/moneyMan/src/components/Navbar.js","/home/dnlstronge/ReactP/moneyMan/src/App.js","/home/dnlstronge/ReactP/moneyMan/src/index.js"],"names":["firebaseConfig","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","firebase","initializeApp","projectFirestore","firestore","projectAuth","auth","timestamp","Timestamp","AuthContext","createContext","authReducer","state","action","type","user","payload","authIsReady","AuthContextProvider","children","useReducer","dispatch","console","log","useEffect","unsub","onAuthStateChanged","useAuthContext","context","useContext","Error","useCollection","collection","_query","_orderBy","useState","documents","setDocuments","error","setError","query","useRef","current","orderBy","ref","where","unsubscribe","onSnapshot","snapshot","results","docs","forEach","doc","push","data","id","initialState","document","isPending","success","firestoreReducer","useFirestore","response","isCancelled","setIsCancelled","dispatchIfNotCancelled","addDocument","createdAt","fromDate","Date","add","addedDocument","message","deleteDocument","delete","TransactionList","transactions","styles","map","transaction","name","amount","TransactionForm","uid","setName","setAmount","handleSubmit","e","preventDefault","target","value","Home","container","content","sidebar","useLogin","email","password","setIsPending","login","signInWithEmailAndPassword","res","Login","setEmail","setPassword","useSignup","signup","displayName","createUserWithEmailAndPassword","updateProfile","Signup","setDisplayName","useLogout","logout","signOut","Navbar","navbar","title","App","ReactDOM","render","getElementById"],"mappings":"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","file":"x","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Home_container__3bftD\",\"content\":\"Home_content__18qU0\",\"sidebar\":\"Home_sidebar__21xz5\",\"transactions\":\"Home_transactions__3_tqr\",\"name\":\"Home_name__4a_Tj\",\"amount\":\"Home_amount__1MW_9\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"navbar\":\"Navbar_navbar__31-FB\",\"title\":\"Navbar_title__2CGsW\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"login-form\":\"Login_login-form__1NBYb\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"signup-form\":\"Signup_signup-form__3B7tC\"};","// extracted by mini-css-extract-plugin","import firebase  from \"firebase/app\"\nimport 'firebase/firestore'\nimport 'firebase/auth'\n\n\nconst firebaseConfig = {\n    apiKey: \"AIzaSyBR-cCBZg6MCgXyg1o2tTdTgBgAUIsIpQk\",\n    authDomain: \"moneyman-99322.firebaseapp.com\",\n    projectId: \"moneyman-99322\",\n    storageBucket: \"moneyman-99322.appspot.com\",\n    messagingSenderId: \"88932004255\",\n    appId: \"1:88932004255:web:ebb8988b8761c610aecdaa\"\n  };\n\n  // initialise FB\n\n  firebase.initializeApp(firebaseConfig)\n\n  // initialize services\n\n  const projectFirestore = firebase.firestore()\n  const projectAuth = firebase.auth()\n\n  //timestamp\n\n  const timestamp = firebase.firestore.Timestamp\n\n  export { projectFirestore, projectAuth, timestamp }","import { createContext, useEffect, useReducer } from \"react\";\nimport { projectAuth } from '../firebase/config'\n\nexport const AuthContext = createContext()\n\n\n//dispatch function:\n\nexport const authReducer = (state, action) => {\n   switch (action.type) {\n    case 'LOGIN':\n        return {...state, user: action.payload}\n    case 'LOGOUT':\n        return { ...state, user: null }\n    case 'AUTH_IS_READY':\n        return {...state, user: action.payload, authIsReady: true}\n    default: \n    return state\n   }\n}\n\nexport const AuthContextProvider = ({ children }) => {\n    const [state, dispatch] = useReducer(authReducer, {\n            user: null,\n            authIsReady: false\n        })\n        console.log('AuthContext state:', state)\n    \n    useEffect(() => { \n       const unsub = projectAuth.onAuthStateChanged((user) => {\n            dispatch({ type: 'AUTH_IS_READY', payload: user})\n            unsub()\n        } )\n    }, [])\n\n    return (\n        <AuthContext.Provider value={{...state, dispatch}}>\n            { children }\n        </AuthContext.Provider>\n    )\n}","import { AuthContext } from \"../context/AuthContext\";\nimport { useContext } from \"react\";\n\n\n\nexport const useAuthContext = () => {\n    const context = useContext(AuthContext) // object containing ...state + dispatch\n\n    if(!context) {\n        throw Error('useAuthContext must be inside AuthContext provider')\n    }\n\n    return context\n}","import { useEffect, useState, useRef } from \"react\"\nimport { projectFirestore } from \"../firebase/config\"\n\n\nexport const useCollection = (collection, _query, _orderBy) => {\n    const [ documents, setDocuments ] = useState(null)\n    const [ error, setError ] = useState(null)\n\n// fixes issue cause by using an array inside dep array (inf loop)\n// \"_query\" is \"different\" and causes inf loop if used directly in dependency array\n\n    const query = useRef(_query).current\n    const orderBy = useRef(_orderBy).current\n\n\n    useEffect(() => {\n        let ref = projectFirestore.collection(collection)\n// add where\n\n        if (query) {\n            ref = ref.where(...query)\n        }\n        if (orderBy) {\n            ref = ref.orderBy(...orderBy)\n        }\n\n        const unsubscribe = ref.onSnapshot( (snapshot) => {\n            let results = []\n            snapshot.docs.forEach( doc => {\n                results.push({...doc.data(), id: doc.id })\n            })\n\n            // updates state\n            setDocuments(results)\n            setError(null)\n        }, (error) => {\n            console.log(error)\n            setError('Could not fetch data')\n        })\n            // cleanup/unsub\n        \n            return () => unsubscribe()\n\n\n    }, [collection, query, orderBy])\n\n    return {documents, error}\n}\n\n// Houston we have Problem: would this not cause infinite cycle of rerender\n// due to an array reference type? i.e JS will see query as different and because\n// there is a diff to something in the dep array useEffect would fire again and again......\n// useRef to get arround this? rename query and wrap using useref, store that in var called query","//NEEDS TO:\n\n//add new docs to firestore collection\n//remove docs from firestore collection\n\nimport { useReducer, useEffect, useState,  } from \"react\";\nimport { projectFirestore, timestamp } from '../firebase/config'\n\nlet initialState = {\n    document: null,\n    isPending: false,\n    error: null,\n    success: null\n\n}\n\nconst firestoreReducer = (state, action) => {\n    switch (action.type) {\n\n        //add cases to update state\n        case 'IS_PENDING': \n            return { isPending: true, document: null, success: false, error: null }\n        case 'ADDED_DOC':\n            return { isPending: false, document: action.payload, success: true, error: null }\n        \n        case 'DELETED_DOCUMENT':\n            return { isPending: false, document: null, success: true, error: null}\n        case 'ERROR':\n            return { isPending: false, document: null, success: false, error: action.payload }\n        \n        default: \n        return state\n    }\n\n}\n\nexport const useFirestore = (collection) => {\n\n    const [ response, dispatch ] = useReducer(firestoreReducer, initialState ) // response = state\n    const [ isCancelled, setIsCancelled ] = useState(false) // for cleanup function on unmount\n\n    //ref: collection - to be used for both adding and deleting\n\n    const ref = projectFirestore.collection(collection)\n\n    // to dispatch if isCancelled is false: \n\n    const dispatchIfNotCancelled = (action) => {\n        if(!isCancelled) { \n            dispatch(action)\n        }\n    }\n\n    // add doc:\n    const addDocument = async (doc) => {\n        dispatch({type: 'IS_PENDING'}) // no data = no payload req\n        try {\n            const createdAt = timestamp.fromDate(new Date())\n            const addedDocument = await ref.add({...doc, createdAt})\n            dispatchIfNotCancelled({ type: 'ADDED_DOC', payload: addedDocument })\n        }\n        catch (err) {\n            dispatchIfNotCancelled({ type: 'ERROR', payload: err.message})\n\n        }\n    }\n\n    // delete doc:\n\n    const deleteDocument = async (id) => {\n        dispatch({ type: \"IS_PENDING\"})\n\n        try {\n            await ref.doc(id).delete()\n            dispatchIfNotCancelled({ type: 'DELETED_DOCUMENT' })\n        }\n        catch (err)  {\n            dispatchIfNotCancelled({type: 'ERROR', payload: 'Could not delete'})\n        }\n    }\n\n    // cleanup function\n\n    useEffect(()=> { \n        return () => {\n        setIsCancelled(true)\n    }\n\n    }, []) // only runs on mount due to empty dep array\n\n    return { addDocument, deleteDocument, response }\n}","import { useFirestore } from '../../hooks/useFirestore'\n\n//styles\n\nimport styles from './Home.module.css'\n\nexport default function TransactionList({ transactions }) {\n  const { deleteDocument, response} = useFirestore('transactions')\n    console.log(response)\n\n  return (\n    <ul className={styles.transactions}>\n        {transactions.map(( transaction ) => (\n            <li key={transaction.id}>\n                <p className={styles.name}>{transaction.name}</p>\n                <p className={styles.amount}>£{transaction.amount}</p>\n                <button onClick={() => deleteDocument(transaction.id)}>x</button>\n            </li>\n        ))}\n    </ul>\n  )\n}\n","import { useEffect, useState } from \"react\"\nimport { useFirestore } from '../../hooks/useFirestore'\n\nexport default function TransactionForm({uid}) {\n    const [name, setName] = useState('')\n    const [amount, setAmount] = useState('')\n    const { addDocument, response } = useFirestore('transactions') // firestore will make this\n\n    const handleSubmit = (e) => {\n        e.preventDefault()\n        addDocument({\n            uid,\n            name, \n            amount}) \n    }\n\n//  Clears Form on submit\n\nuseEffect( () => {\nif ( response.success ) {\n    setName('')\n    setAmount('')\n}\n}, [response.success])\n\n  return (\n    <>\n    <h3>Add a transaction</h3>\n    <form onSubmit={handleSubmit}> \n    <label>\n        <span>Transaction name:</span>\n        <input \n            type=\"text\"\n            required\n            onChange={(e) => setName(e.target.value)} \n            value={name}\n            />\n    </label>\n    <label>\n    <span>Amount (£):</span>\n        <input \n            type=\"text\"\n            required\n            onChange={(e) => setAmount(e.target.value)} \n            value={amount}\n            />\n    </label>\n    <button>Add transaction</button>\n    </form>\n    </>\n  )\n}\n","// styles\n\nimport styles from './Home.module.css'\n\n// hooks \n\nimport { useAuthContext } from '../../hooks/useAuthContext'\nimport { useCollection } from '../../hooks/useCollection'\n\n//comps\nimport TransactionList from './TransactionList'\nimport TransactionForm  from './TransactionForm'\n\nexport function Home() {\n  const { user } = useAuthContext()\n  const { documents, error } = useCollection(\n    'transactions',\n    ['uid', '==', user.uid],\n    ['createdAt', 'desc' ]\n  )\n\n  return (\n    <div className={styles.container}>\n\n    <div className={styles.content}>\n    {error && <p>{error}</p>}\n    {documents && <TransactionList transactions={documents}/>}\n    \n      </div>\n\n    <div className={styles.sidebar}>\n    <TransactionForm uid={user.uid}/>\n      </div>\n\n    </div>\n  )\n}\n","import { useState, useEffect } from 'react'\nimport { projectAuth } from '../firebase/config'\nimport { useAuthContext } from './useAuthContext'\n\n\nexport const useLogin = (email, password) => {\n    const [isCancelled, setIsCancelled] = useState(false)\n    const [error, setError] = useState(null)\n    const [isPending, setIsPending] = useState(false)\n    const { dispatch } = useAuthContext()\n\n    const login = async(email, password) => {\n        setError(null)   \n        setIsPending(true)\n        \n        // this will sign user in:\n        try {\n            const res = await projectAuth.signInWithEmailAndPassword(email, password)\n            setIsPending(false)\n            dispatch({ type: 'LOGIN', payload: res.user })\n\n// update state:\n\n        if (!isCancelled) {\n            setIsPending(false)\n            setError(null)\n            }\n        }\n    \n        catch(err) {\n            if (!isCancelled) {\n            console.log(err.message)\n            setError(err.message)\n            setIsPending(false)\n            }}\n    }\n    useEffect(() => {\n        return() => setIsCancelled(true)\n    }, [])\n\n\n    return { login, error, isPending } \n}","import { useState } from 'react'\nimport { useLogin } from '../../hooks/useLogin'\n\n//styles\nimport styles from './Login.module.css'\n\n\n\nexport function Login() {\nconst [email, setEmail] = useState('')\nconst [password, setPassword] = useState('')\nconst { login, error, isPending } = useLogin()\n\nconst handleSubmit = (e) => {\ne.preventDefault()\nlogin(email, password)\n\n}\n\n  return (\n  <form onSubmit={handleSubmit} className={styles['login-form']}>\n    <h2>Login</h2>\n    <label>\n    <span>Email:</span>\n      <input \n      type=\"email\"\n      onChange={(e) => setEmail(e.target.value)}\n      value={email}\n      />\n    </label>\n    <label>\n      <span>Password:</span>\n      <input \n      type=\"password\" \n      onChange={(e) => setPassword(e.target.value)}\n      value={password}\n      />\n    </label>\n    {!isPending && <button className=\"btn\">Login</button>}\n    {isPending && <button className='btn' disabled>Loading...</button>}\n    {error && <p>{error}</p>}\n    \n\n  </form>\n  )\n}\n","import { useState, useEffect } from \"react\"\nimport { projectAuth } from \"../firebase/config\"\nimport { useAuthContext } from \"./useAuthContext\"\n\n\nexport const useSignup = () => {\n    const [isCancelled, setIsCancelled] = useState(false)\n    const [error, setError] = useState(null)\n    const [isPending, setIsPending] = useState(false)\n    const { dispatch } = useAuthContext()\n\n    const signup = async (email, password, displayName) => {\n        setError(null)\n        setIsPending(true)\n\n      try {\n        // sign up user:\n        const res = await projectAuth.createUserWithEmailAndPassword(email, password)\n        \n        if(!res) {\n            throw new Error('Could not complete signup')\n        }\n        \n        // add display name:\n\n        await res.user.updateProfile({ displayName })\n\n        //dispatch login action:\n\n        dispatch({type: 'LOGIN', payload: res.user})\n        if (!isCancelled) {\n        setIsPending(false)\n        setError(null)}\n      }  \n      catch(err) {\n        if(!isCancelled) {\n        console.log(err.message)\n        setError(err.message)\n        setIsPending(false)\n        }\n      }\n    }\n    useEffect(() => {\n      return() => {\n          setIsCancelled(true)\n      }\n  }, [])\nreturn {error, isPending, signup}\n}","import { useState } from 'react'\nimport { useSignup } from '../../hooks/useSignup'\n\n\n// styles\nimport styles from './Signup.module.css'\n\n\nexport function Signup() {\nconst [displayName, setDisplayName] = useState('')\nconst [email, setEmail] = useState('')\nconst [password, setPassword] = useState('')\n\n//destructure state from hook: \n\nconst { signup, isPending, error } = useSignup()\n\nconst handleSubmit = (e) => {\n  e.preventDefault()\n  signup(email, password, displayName)\n\n}\n\n  return (\n    <form onSubmit={handleSubmit} className={styles['signup-form']}>\n      <label>\n      <h2>Signup</h2>\n      <br/>\n      <span>Email:</span>\n      <input\n        type=\"email\"\n        onChange={(e) => setEmail(e.target.value)}    \n        value={email}  \n       />\n      </label>\n\n      <label>\n      <span>Password</span>\n      <input \n        type=\"password\"\n        onChange={(e) => setPassword(e.target.value)}\n        value={password}\n      /> \n      </label>\n    \n      <label>\n      <span> Display name: </span>\n        <input \n          type=\"text\"\n          onChange={(e) => setDisplayName(e.target.value)}\n          value={displayName}\n        />\n      </label>\n      {!isPending && <button className='btn'>Submit</button>}\n      {isPending && <button className='btn' disabled>Loading..</button>}\n      {error && <p>{error}</p>}\n    </form>\n  )\n}\n","import { useState, useEffect } from \"react\"\nimport { projectAuth } from '../firebase/config'\nimport { useAuthContext } from \"./useAuthContext\"\n\n\n export const useLogout = () => {\n    const [isCancelled, setIsCancelled] = useState(false)\n    const [error, setError] = useState(null)\n    const [isPending, setIsPending] = useState(false)\n    const { dispatch } = useAuthContext()\n\n    const logout = async() => {\n        setError(null)   \n        setIsPending(true)\n        \n        // this will sign user out:\n        try {\n            await projectAuth.signOut()\n\n            dispatch({type: 'LOGOUT' })\n// update state:\n\n            if (!isCancelled) {\n            setIsPending(false)\n            setError(null)\n            }\n        }\n        //catch error\n        catch(err) {\n            if (!isCancelled) {\n            console.log(err.message)\n            setError(err.message)\n            setIsPending(false)\n            }}\n    }\n    useEffect(() => {\n        return() => {\n            setIsCancelled(true)\n        }\n    }, [])\n\n\n    return { logout, error, isPending } \n}","\n//imports\n\nimport { Link } from 'react-router-dom'\nimport { useAuthContext } from '../hooks/useAuthContext'\nimport { useLogout } from '../hooks/useLogout'\n\n\n//style\n\nimport styles from './Navbar.module.css'\n\n\nexport function Navbar() {\n\n  const { logout } = useLogout()\n  const { user } = useAuthContext()\n \n\n\n\n  return (\n    <nav className={styles.navbar}>\n    <ul>\n        <li className={styles.title}>moneyMan</li>\n\n    {(!user && // hides when logged in\n      <> \n        <li><Link to=\"/login\">Login</Link></li>\n        <li><Link to=\"/signup\">Signup</Link></li>\n\n     </>\n    )}\n\n    {(user && //hides when logged out\n      <>\n        <li>Hello, {user.displayName}</li>\n        <li>\n          <button className=\"btn\" onClick={ logout }>Logout</button>\n        </li>\n      </>\n    )}\n    </ul>\n\n    </nav>\n  )\n}\n","import { BrowserRouter, Switch, Route, Redirect } from 'react-router-dom';\nimport { useAuthContext } from './hooks/useAuthContext'; \n\n\n//pages & comps\n \nimport { Home } from \"./pages/home/Home\"\nimport { Login } from \"./pages/login/Login\"\nimport { Signup } from \"./pages/signup/Signup\"\nimport { Navbar } from './components/Navbar'\n\n// import './App.css'\n\nfunction App() {\n  const { authIsReady, user } = useAuthContext()\n\n\n  return (\n    <div className=\"App\">\n\n    {authIsReady && (\n      <BrowserRouter>\n      <Navbar />\n      <Switch>\n        <Route exact path=\"/\">\n        {!user && <Redirect to=\"/login\"/>}\n        {user && <Home/> }\n        </Route>\n        <Route path=\"/login\">\n        {user && <Redirect to=\"/\" />}\n        {!user && <Login />}\n        </Route>\n        <Route path=\"/signup\">\n        {user && <Redirect to=\"/\"/>}\n        {!user && <Signup />}\n        </Route>\n       </Switch>\n      </BrowserRouter>\n    )}\n    </div>\n  );\n}\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport { AuthContextProvider } from './context/AuthContext'\n\nReactDOM.render(\n  <React.StrictMode>\n  <AuthContextProvider>\n    <App />\n    </AuthContextProvider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"]}}